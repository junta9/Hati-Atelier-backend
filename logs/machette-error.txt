{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"machette","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\response.js:1150:12)\n    at ServerResponse.json (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\response.js:271:14)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\routes\\user.js:10:9\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"09:58:33 12/10/2023"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"machette","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\response.js:1150:12)\n    at ServerResponse.json (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\response.js:271:14)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\routes\\user.js:10:9\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"09:59:10 12/10/2023"}
{"level":"error","message":"Cannot read properties of undefined (reading 'role')","service":"machette","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at checkAdminRole (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\routes\\book.js:13:30)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:28:13\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:261:12","timestamp":"11:35:41 12/10/2023"}
{"level":"error","message":"Invalid token","service":"machette","stack":"Error: Invalid token\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:24:29\n    at module.exports [as verify] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:70:12)\n    at checkToken (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:22:13)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"11:38:36 12/10/2023"}
{"level":"error","message":"Cannot read properties of undefined (reading 'role')","service":"machette","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at checkAdminRole (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\routes\\book.js:13:30)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:28:13\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:261:12","timestamp":"11:39:56 12/10/2023"}
{"level":"error","message":"Invalid token","service":"machette","stack":"Error: Invalid token\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:24:29\n    at module.exports [as verify] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:70:12)\n    at checkToken (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:22:13)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"11:40:31 12/10/2023"}
{"level":"error","message":"Cannot read properties of undefined (reading 'role')","service":"machette","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at checkAdminRole (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\routes\\book.js:13:30)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:28:13\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:261:12","timestamp":"11:41:15 12/10/2023"}
{"level":"error","message":"Cannot read properties of undefined (reading 'role')","service":"machette","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at checkAdminRole (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\routes\\book.js:13:30)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:28:13\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:261:12","timestamp":"11:41:55 12/10/2023"}
{"level":"error","message":"user is not defined","service":"machette","stack":"ReferenceError: user is not defined\n    at checkAdminRole (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\routes\\book.js:9:5)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:28:13\n    at D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:261:12\n    at getSecret (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at checkToken (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\middlewares\\jwt.js:22:13)\n    at Layer.handle [as handle_request] (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\DEVOPS\\cours\\exo back-end\\Hati-Atelier-backend\\node_modules\\express\\lib\\router\\route.js:144:13)","timestamp":"11:49:56 12/10/2023"}
